angular.module("myApp",["ui.router","textAngular","ngMaterial","underscore","firebase"]).constant("CONFIG",{DebugMode:true,StepCounter:0,APIHost:"http://localhost:12017"});angular.module("myApp").run(["_","$rootScope","$state","Authorization",function(a,b,c,d){b.$on("$stateChangeSuccess",function(b,e,f,g,h){if(!d.authorized()){if(d.memorizedState&&(!a.has(g,"data.redirectTo")||e.name!==g.data.redirectTo)){d.clear()}if(a.has(e,"data")&&a.has(e.data,"authorization")&&a.has(e.data,"redirectTo")){if(a.has(e.data,"memory")&&e.data.memory){d.memorizedState=e.name}c.go(e.data.redirectTo)}}});b.logout=function(){d.clear();c.go("home")};var e={apiKey:"AIzaSyAebzYs_DR29-HYxS0T368XAwg2Tdrvyck",authDomain:"santex-e3078.firebaseapp.com",databaseURL:"https://santex-e3078.firebaseio.com",storageBucket:"santex-e3078.appspot.com"};firebase.initializeApp(e)}]);angular.module("myApp").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(a,b,c){b.when("","/");b.otherwise("/404");a.state("home",{url:"/",templateUrl:"app/components/home/views/home.view.html"}).state("404",{url:"/404",templateUrl:"app/shared/404.html"}).state("login",{url:"/login",templateUrl:"app/components/login/views/login.view.html",controller:"loginController",controllerAs:"ctrl"}).state("about",{url:"/about",templateUrl:"app/components/about/views/about.view.html",controller:"aboutController",controllerAs:"ctrl"}).state("price",{url:"/price",templateUrl:"app/components/price/views/price.view.html",controller:"priceController",controllerAs:"ctrl"}).state("articles",{url:"/articles",templateUrl:"app/components/post/views/articles.view.html",controller:"articlesController",controllerAs:"ctrl"}).state("post",{url:"/post/:postId",templateUrl:"app/components/post/views/post.view.html",controller:"postController",controllerAs:"ctrl"}).state("administration",{url:"/administration",templateUrl:"app/components/administration/views/administration.view.html",controller:"administrationController",controllerAs:"ctrl",data:{authorization:true,redirectTo:"login"}}).state("feedback",{url:"/feedback",templateUrl:"app/components/feedback/views/feedback.view.html",controller:"feedbackController",controllerAs:"ctrl"}).state("gallery",{url:"/gallery",templateUrl:"app/components/gallery/views/gallery.view.html",controller:"galleryController",controllerAs:"ctrl"}).state("works",{url:"/works/{workTitle}",templateUrl:"app/components/worktypes/views/worktypes.view.html",controller:"workTypesController",controllerAs:"ctrl"})}]);(function(){"use strict";angular.module("myApp").controller("aboutController",["aboutService",function(a){var b=this;b.displayItem=function(a){if(a){a.selected=true;if(b.selectedItem){b.selectedItem.selected=false}b.selectedItem=a}};b.data=a.preparedData;b.displayItem(b.data[0]);b.aboutText=a.aboutText;return b}])})();(function(){"use strict";var a="aboutService";angular.module("myApp").factory(a,[function b(){var a=this;a.aboutText="<h1 style='text-align: center;'>Заголовок</h1><h4 style='text-align: center;'>Подзаголовок</h4><p style='text-align: left;'>Далеко-далеко за словесными горами в стране гласных и согласных живут рыбные тексты. Вдали от всех живут они в буквенных домах на берегу Семантика большого языкового океана. Маленький ручеек Даль журчит по всей стране и обеспечивает ее всеми необходимыми правилами. Эта парадигматическая страна, в которой жаренные члены предложения залетают прямо в рот. Даже всемогущая пунктуация не имеет власти над рыбными текстами, ведущими безорфографичный образ жизни.</p><p style='text-align: center;'><img src='http://c2.staticflickr.com/8/7075/27000238684_176bdcbaf3_z.jpg'/></p><p>Он собрал семь своих заглавных букв, подпоясал инициал за пояс и пустился в дорогу.</p>";function b(b){if(b){a.aboutText=b}}var c={preparedData:[{name:"Категория 1",headerText:"Заголовок категории 1",descriptionText:"Рыбным текстом называется текст, служащий для временного наполнения макета в публикациях или производстве веб-сайтов, пока финальный текст еще не создан. Рыбный текст также известен как текст-заполнитель или же текст-наполнитель. Иногда текст-«рыба» также используется композиторами при написании музыки. Они напевают его перед тем, как сочинены соответствующие слова. Уже в 16-том веке рыбные тексты имели широкое распространение у печатников."},{name:"Категория 2",headerText:"Заголовок категории 2",descriptionText:"Рыбные тексты также применяются для демонстрации различных видов шрифта и в разработке макетов. Как правило их содержание бессмысленно. По причине своей функции текста-заполнителя для макетов нечитабельность рыбных текстов имеет особое значение, так как человеческое восприятие имеет особенность, распознавать определенные образцы и повторения. В случае произвольного набора букв и длины слов ничто не отвлекает от оценки воздействия и читаемости различных шрифтов, а также от распределения текста на странице (макет или площадь набора). Поэтому большинство рыбных текстов состоят из более или менее произвольного набора слов и слогов. Таким образом образцы повторения не отвлекают от общей картины, а шрифты имеют лучшую базу сравнения. Преимущественно конечно, если рыбный текст кажется в некоторой степени реалистичным, не искажая тем самым воздействие макета финальной публикации."},{name:"Категория 3",headerText:"Заголовок категории 3",descriptionText:"Самый известный текст-«рыба», называемый Lorem ipsum, имеет свои корни в 16-том веке. Lorem ipsum был создан на псевдо-латыни, которая приблизительно соответствует настоящей латыни. Этот текст содержит ряд настоящих латинских слов. Как и большинство других текстов, Lorem ipsum не имеет смысла, а лишь имитирует ритм большинства европейских языков использующих латиницу. Латинское происхождение и относительная бессмысленность текста Lorem ipsum хороши тем, что не привлекают к себе внимания и не отвлекают от дизайна."}],aboutText:a.aboutText,saveAboutText:b};return c}])})();(function(){"use strict";angular.module("myApp").controller("administrationController",["articleService","aboutService","homeService","priceService","requestService","$mdDialog","$mdMedia","$rootScope",function(a,b,c,d,e,f,g,h){var i=this;i.tabs=[{title:"Заявки",templateUrl:"app/components/administration/views/requests.administration.view.html"},{title:"Главная",templateUrl:"app/components/administration/views/main.administration.view.html"},{title:"О компании",templateUrl:"app/components/administration/views/about.administration.view.html"},{title:"Статьи",templateUrl:"app/components/administration/views/articles.administration.view.html"},{title:"Прайс лист",templateUrl:"app/components/administration/views/price.administration.view.html"}];i.selectedTab=i.tabs[0];i.selectedTab.active=true;i.selectTab=function(a){i.selectedTab.active=false;i.selectedTab=a;i.selectedTab.active=true};i.mainInfo=c.getInfo();i.saveMainInfo=function(a){var b=f.confirm().title("Сохранить изменения?").targetEvent(a).ok("Сохранить").cancel("Отменить");f.show(b).then(function(){c.saveInfo(i.mainInfo)},function(){})};i.postList=a.preparedData;i.editPostDialog=function(a,b){var c=g("sm")||g("xs");f.show({templateUrl:"app/components/administration/views/newpost.administration.modal.html",parent:angular.element(document.body),targetEvent:a,clickOutsideToClose:false,fullscreen:c,controller:"editPostController as ctrl",locals:{post:b}}).then(function(a){},function(){})};i.deletePost=function(b,c){var d=f.confirm().title("Вы действительно хотите удалить?").textContent("Потом уже ничего не вернуть..").ariaLabel("Lucky day").targetEvent(b).ok("Удалить").cancel("Я еще подумаю");f.show(d).then(function(){a.deletePost(c)},function(){})};i.priceList=d.cardItems;i.savePriceItem=function(a){if(a){d.saveItem(a)}};i.requestList=e.requestList;i.deleteRequest=e.deleteRequest;i.aboutText=b.aboutText;i.saveAboutText=function(){var a=f.confirm().title("Сохранить изменения?").textContent("Сохранение").ariaLabel("Lucky day").targetEvent(event).ok("Сохранить").cancel("Отменить");f.show(a).then(function(){b.saveAboutText(i.aboutText)},function(){})};i.logOut=function(){var a=f.confirm().title("Вы действительно хотите выйти?").textContent("выход из системы").ariaLabel("Lucky day").targetEvent(event).ok("Выйти").cancel("Остаться");f.show(a).then(function(){h.logout()},function(){})};return i}])})();(function(){"use strict";angular.module("myApp").controller("editPostController",["articleService","$mdDialog","$mdMedia","post",function(a,b,c,d){var e=this;e.post=d;e.hide=function(){b.hide()};e.cancel=function(){b.cancel()};e.savePost=function(){a.savePost(e.post);b.cancel()};return e}])})();(function(){"use strict";angular.module("myApp").controller("feedbackController",["feedbackService","$mdDialog","$mdMedia",a]);function a(a,b,c){var d=this;d.feedbackList=a.feedbackList;d.addFeedback=function(a){var d=c("sm")||c("xs");b.show({templateUrl:"app/components/feedback/views/newfeedback.modal.html",parent:angular.element(document.body),targetEvent:a,clickOutsideToClose:true,fullscreen:d,controller:function(a,b){var c=this;c.newFeedback=new Object;c.hide=function(){b.hide()};c.cancel=function(){b.cancel()};c.saveFeedback=function(){if(c.newFeedback){a.saveFeedback(c.newFeedback)}};return c}}).then(function(a){},function(){})};return d}})();(function(){"use strict";angular.module("myApp").factory("feedbackService",function(){var a=this;a.feedbackList=[{id:1,date:Date.today(),name:"Имя",rating:5,text:"feedbackText"}];function b(a){if(a){}}return{saveFeedback:b,feedbackList:a.feedbackList}})})();(function(){"use strict";angular.module("myApp").controller("galleryController",["galleryService",a]);function a(a){var b=this;b.items=a.photoList;$(".gallery-container").magnificPopup({delegate:"a",type:"image",gallery:{enabled:true,arrowMarkup:"",tCounter:'<span class="mfp-counter">%curr% из %total%</span>'}});return b}})();(function(){"use strict";var a="galleryService";angular.module("myApp").factory(a,["$filter",function b(a){var b=this;b.photoList=[{id:1,src:"http://c2.staticflickr.com/8/7075/27000238684_176bdcbaf3_z.jpg",workTypeId:1},{id:2,src:"http://farm8.staticflickr.com/7356/27493830330_6ef36efec6_z_d.jpg",workTypeId:1},{id:3,src:"http://farm8.staticflickr.com/7292/27164796054_d221ce930c_z_d.jpg",workTypeId:2},{id:4,src:"http://farm8.staticflickr.com/7127/27165422823_be01cc858f_z_d.jpg",workTypeId:3},{id:5,src:"http://c2.staticflickr.com/8/7075/27000238684_176bdcbaf3_z.jpg",workTypeId:1}];function c(c){if(c){var d=a("filter")(b.photoList,{workTypeId:c},true)}return d}return{getPhotoListByWorkTypeId:c,photoList:b.photoList}}])})();(function(){"use strict";angular.module("myApp").controller("homeController",["homeService",a]);function a(a){var b=this;b.info=a.getInfo();return b}})();(function(){"use strict";angular.module("myApp").service("homeService",[function a(){var a=this;function b(){console.log("Get main info");return{phone:"+7(123)456-78-90",address:"Москва, Цветной бульвар д.11 стр.6, офис 406",schedule:"Пн-Вс с 9:00 до 21:00"}}function c(a){}return{getInfo:b,saveInfo:c}}])})();(function(){"use strict";angular.module("myApp").controller("loginController",["$state","Authorization",a]);function a(a,b){var c=this;c.userName="";c.password="";c.messageText="";c.login=function(){if(c.userName=="admin"&&c.password=="admin"){b.go("administration")}else{c.messageText="Неправильный логин или пароль!"}};return c}})();(function(){"use strict";angular.module("myApp").controller("articlesController",["articleService",a]).directive("articlesPreview",b);function a(a){var b=this;b.postList=a.getArticles();return b}function b(){return{restrict:"E",templateUrl:"app/components/post/views/articles-preview.view.html"}}})();(function(){"use strict";var a="articleService";angular.module("myApp").factory(a,["$filter","$firebaseArray",function b(a,c){var d=this;var e={year:"numeric",month:"long",day:"numeric",weekday:"long"};d.preparedData=[];function f(){var a=firebase.database().ref().child("Articles");d.preparedData=c(a);d.preparedData.every(g);return d.preparedData}function g(a,b,c){a.formattedDate=a.date.toLocaleDateString("ru",e);return true}function h(b){if(!d.preparedData){}var c=parseInt(b);if(c){var e=a("filter")(d.preparedData,{id:c},true)}return e}function i(a){if(a){var b=h(a.id);if(!b){a.date=Date.today();console.log(a.date);a.formattedDate=a.date.toLocaleDateString("ru",e);d.preparedData.push(a)}else{b.title=a.title;b.previewText=a.previewText;b.text=a.text;b.date=a.date}}}function j(a){var b=h(a);if(b){var c=d.preparedData.map(function(a){return a.id}).indexOf(a);if(c>-1){d.preparedData.splice(c,1)}}}return{getArticles:f,getPost:h,savePost:i,deletePost:j}}])})();(function(){"use strict";angular.module("myApp").controller("postController",["articleService","$state","$stateParams",a]);function a(a,b,c){var d=this;var e=a.getPost(c.postId);if(e&&e.length){d.post=e[0]}else{b.go("404")}return d}})();(function(){"use strict";angular.module("myApp").controller("priceController",["priceService","workTypesService",a]);function a(a,b){var c=this;var d=a.priceItems;c.priceGroups=_.groupBy(d,function(a){return a.workTypeId});for(var e in c.priceGroups){var f=parseInt(e);var g=b.getTypeById(f)[0];if(g){c.priceGroups[e].title=g.titleText;c.priceGroups[e].notesText=g.notesText}}return c}})();(function(){"use strict";var a="priceService";angular.module("myApp").factory(a,["$filter",function b(a){var b=this;b.priceItems=[{id:1,workTypeId:1,name:"Название",units:"шт",cost:"200"},{id:2,workTypeId:1,name:"Название",units:"шт",cost:"200"},{id:3,workTypeId:2,name:"Название",units:"шт",cost:"200"},{id:4,workTypeId:2,name:"Название",units:"шт",cost:"200"},{id:5,workTypeId:3,name:"Название",units:"шт",cost:"200"},{id:6,workTypeId:3,name:"Название",units:"шт",cost:"200"}];function c(c){if(c){var d=a("filter")(b.priceItems,{workTypeId:c},true)}return d}return{priceItems:b.priceItems,getPriceItemsByWorkTypeId:c}}])})();(function(){"use strict";angular.module("myApp").controller("requestController",a);function a(){var a=this;return a}})();(function(){"use strict";var a="requestService";angular.module("myApp").factory(a,["$filter",function b(a){var b=this;b.requestList=[{id:1,title:"Заявка 1",date:Date.today(),phone:"+375222242424",email:"email@mail.com",text:"Комментарии к заявке"},{id:2,title:"Заявка 2",date:Date.today(),phone:"+375222242424",email:"email@mail.com",text:"Комментарии к заявке"},{id:3,title:"Заявка 3",date:Date.today(),phone:"+375222242424",email:"email@mail.com",text:"Комментарии к заявке"},{id:4,title:"Заявка 4",date:Date.today(),phone:"+375222242424",email:"email@mail.com",text:"Комментарии к заявке"}];function c(a){if(a){b.requestList.push(a)}}function d(a){}return{requestList:b.requestList,saveRequest:c,deleteRequest:d}}])})();(function(){"use strict";angular.module("myApp").controller("workTypesController",["workTypesService","$state","$stateParams","$filter",a]).directive("svgImage",["$http",b]);function a(a,b,c,d){var e=this;e.workTypes=a.getData();e.selectItem=function(a){if(e.selectedItem){e.selectedItem.active=false}e.selectedItem=a;e.selectedItem.active=true};if(c.workTitle){var f=d("filter")(e.workTypes,{urlText:c.workTitle},true)[0];if(f){e.selectItem(f)}}else{e.selectItem(e.workTypes[0])}$(".gallery-photos").magnificPopup({delegate:"a",type:"image",gallery:{enabled:true,arrowMarkup:"",tCounter:'<span class="mfp-counter">%curr% из %total%</span>'}});return e}function b(a){return{restrict:"E",link:function(b,c){var d=c.attr("src");var e=a.get(d,{"Content-Type":"application/xml"});b.manipulateImgNode=function(a,b){var c=angular.element(a)[4];var d=b.attr("class");if(typeof d!=="undefined"){var e=d.split(" ");for(var f=0;f<e.length;++f){c.classList.add(e[f])}}c.removeAttribute("xmlns:a");return c};e.success(function(a){c.replaceWith(b.manipulateImgNode(a,c))})}}}})();(function(){"use strict";var a="workTypesService";angular.module("myApp").factory(a,["_","priceService","galleryService","$filter",function b(a,c,d,e){var f=this;function g(){var b=[{id:1,urlText:"a",thumbSrc:"assets/img/house-1.svg",thumbText:"Раздел",titleText:"Название раздела",description:"<p>Душевые кабины составляют достойную конкуренцию стандартной ванне. Прежде всего, потому, что принять душ намного быстрее, чем ванну, и при этом расходуется до пяти раз меньший объем воды. При этом, душевые кабины намного гигиеничнее – в них не скапливается грязь, остатки мыла, геля для душа, поскольку все это уходит в канализацию совместно с водой. Огромным достоинством душевой кабины считается и то, что она незаменима в малогабаритных помещениях, где установить полноценную ванну невозможно.</p><p>Душевые кабины представлены моделями с закрытой и открытой конструкцией, из которых потребители предпочитают выбирать закрытые, многофункциональные боксы. Они отличаются по размерам, материалу изготовления, форме, комплектации, функционалу, цене, поэтому покупатели всегда могут подобрать то, что им нужно. Самыми востребованными считаются кабины квадратных, прямоугольных, полукруглых форм. Они подходят для монтажа и в углу помещения, и вдоль свободной стены.</p><p>Душевые кабины представлены моделями с закрытой и открытой конструкцией, из которых потребители предпочитают выбирать закрытые, многофункциональные боксы. Они отличаются по размерам, материалу изготовления, форме, комплектации, функционалу, цене, поэтому покупатели всегда могут подобрать то, что им нужно. Самыми востребованными считаются кабины квадратных, прямоугольных, полукруглых форм. Они подходят для монтажа и в углу помещения, и вдоль свободной стены.</p>",notesText:"примечание",imageSrc:"http://c2.staticflickr.com/8/7075/27000238684_176bdcbaf3_z.jpg"},{id:2,urlText:"b",thumbSrc:"assets/img/7-poloten.svg",thumbText:"Раздел 2",titleText:"Название раздела 2",description:"описание раздела",imageSrc:"http://c2.staticflickr.com/8/7075/27000238684_176bdcbaf3_z.jpg"},{id:3,urlText:"c",thumbSrc:"assets/img/8-smesitel.svg",thumbText:"Раздел 3",titleText:"Название раздела 3",description:"описание раздела",imageSrc:"http://c2.staticflickr.com/8/7075/27000238684_176bdcbaf3_z.jpg"},{id:3,urlText:"d",thumbSrc:"assets/img/10-dush.svg",thumbText:"Раздел 3",titleText:"Название раздела 3",description:"описание раздела",imageSrc:"http://c2.staticflickr.com/8/7075/27000238684_176bdcbaf3_z.jpg"}];a.map(b,function(a){if(a){if(a.id){a.priceItems=c.getPriceItemsByWorkTypeId(a.id);a.photos=d.getPhotoListByWorkTypeId(a.id)}}});return b}function h(a){if(a){var b=g();var c=e("filter")(b,{id:a},true)}return c}return{getData:g,getTypeById:h}}])})();(function(){"use strict";angular.module("myApp").factory("Authorization",["$state",function(a){var b=this;function c(){return localStorage.authorizationToken==="password"}function d(){localStorage.authorizationToken=null}function e(b){localStorage.authorizationToken="password";a.go(b)}return{authorized:c,clear:d,go:e}}])})();$(document).ready(function(){$("a.on-top").click(function(a){$("html, body").animate({scrollTop:0},200);a.preventDefault()});$("a.bktop").click(function(a){$("html, body").animate({scrollTop:0},"1000");a.preventDefault()});$(window).scroll(function(){if($(this).scrollTop()>100){$(".bktop").fadeIn("2000")}else{$(".bktop").fadeOut("500")}})}).on("click",".navbar-collapse.in",function(a){if($(a.target).is("a")){$(this).collapse("hide")}});
//# sourceMappingURL=all.min.js.map